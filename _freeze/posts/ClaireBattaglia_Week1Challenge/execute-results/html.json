{
  "hash": "08c3bf56c136ebd05fab88ef545ed720",
  "result": {
    "markdown": "---\ntitle: \"Week 1 Challenge\"\nauthor: \"Claire Battaglia\"\ndesription: \"Loading data & creating a network\"\ndate: \"February 22, 2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - Claire Battaglia\n  - challenge1\n\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(igraph)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n## Data\n\nThis dataset represents the teams in Game of Thrones.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# read in data\nteams <- read_csv(\"_data/got/got_teams.csv\", show_col_types = FALSE)\n\n# specify from, to fields\nteams <- teams %>%\n  rename(from = team, to = joins) %>%\n  relocate(from, to, alliance, gh, .before = id)\n\n# preview\nhead(teams, 25)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 25 × 5\n   from         to                    alliance        gh    id\n   <chr>        <chr>                 <chr>        <dbl> <dbl>\n 1 Drogo        follows Drogo         Opportunists     0     0\n 2 Littlefinger follows Littlefinger  Opportunists     0     1\n 3 Martell      joins the Martells    Opportunists     0     2\n 4 Red God      worships the Red God  Opportunists     0     3\n 5 Renly        follows Renly         Opportunists     0     4\n 6 Second Sons  joins the Second Sons Opportunists     0     5\n 7 Stannis      follows Stannis       Opportunists     0     6\n 8 Stormcrows   joins the Stormcrows  Opportunists     0     7\n 9 Targaryen    joins the Targaryens  Opportunists     0     8\n10 Tyrell       joins the Tyrells     Opportunists     0     9\n# … with 15 more rows\n```\n:::\n:::\n\n\nNow I'll create a network object.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create network object\nteams.ig <- graph_from_data_frame(teams, directed = FALSE)\n\n# view\nteams.ig\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nIGRAPH b1d14af UN-- 66 33 -- \n+ attr: name (v/c), alliance (e/c), gh (e/n), id (e/n)\n+ edges from b1d14af (vertex names):\n [1] Drogo       --follows Drogo         Littlefinger--follows Littlefinger \n [3] Martell     --joins the Martells    Red God     --worships the Red God \n [5] Renly       --follows Renly         Second Sons --joins the Second Sons\n [7] Stannis     --follows Stannis       Stormcrows  --joins the Stormcrows \n [9] Targaryen   --joins the Targaryens  Tyrell      --joins the Tyrells    \n[11] Windblown   --joins the Windblown  \n+ ... omitted several edges\n```\n:::\n:::\n\n\nThis tells us a few things.\n\n1. The network is *undirected*.\n1. The network is *named*. I.e. the nodes have names.\n1. The edges are not weighted.\n1. It is not bipartite.\n1. There are 66 nodes/vertices.\n1. There are 33 edges/ties.\n\nWe can explore the nodes and edges further.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get nodes\nV(teams.ig)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n+ 66/66 vertices, named, from b1d14af:\n [1] Drogo                                  \n [2] Littlefinger                           \n [3] Martell                                \n [4] Red God                                \n [5] Renly                                  \n [6] Second Sons                            \n [7] Stannis                                \n [8] Stormcrows                             \n [9] Targaryen                              \n[10] Tyrell                                 \n+ ... omitted several vertices\n```\n:::\n\n```{.r .cell-code}\n# get edges\nE(teams.ig)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n+ 33/33 edges from b1d14af (vertex names):\n [1] Drogo             --follows Drogo                          \n [2] Littlefinger      --follows Littlefinger                   \n [3] Martell           --joins the Martells                     \n [4] Red God           --worships the Red God                   \n [5] Renly             --follows Renly                          \n [6] Second Sons       --joins the Second Sons                  \n [7] Stannis           --follows Stannis                        \n [8] Stormcrows        --joins the Stormcrows                   \n [9] Targaryen         --joins the Targaryens                   \n[10] Tyrell            --joins the Tyrells                      \n+ ... omitted several edges\n```\n:::\n:::\n\n\nLet's try to plot this.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# not sure what this does but I found it on the internet so why not :)\nteams.ig <- simplify(teams.ig, remove.multiple = F, remove.loops = T)\n\n# assign weight\nE(teams.ig)$weight <- E(teams.ig)$alliance\n\n# plot network\nplot(teams.ig,\n     vertex.size = 10,\n     vertex.color = \"maroon\",\n     vertex.label.cex = .5,\n     main = \"Game of Thrones Teams\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in (function (graph, coords = NULL, dim = 2, niter = 500, start.temp =\nsqrt(vcount(graph)), : NAs introduced by coercion\n```\n:::\n\n::: {.cell-output-display}\n![](ClaireBattaglia_Week1Challenge_files/figure-html/plot got-1.png){width=672}\n:::\n:::\n\n\nThat looks... sort of useless (but vaguely like a network!).\n\n\n\n\n",
    "supporting": [
      "ClaireBattaglia_Week1Challenge_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}