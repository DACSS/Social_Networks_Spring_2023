{
  "hash": "13a23e63b6ce583ffe1debb3f0b3977a",
  "result": {
    "markdown": "---\ntitle: \"WK9Challenge_KDocekal\"\noutput: html_document\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(igraph)\nlibrary(statnet)\nlibrary(gssr)\nlibrary(drat)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n\n\nMy dataset uses results from the 1985 General Social Survey. The data frame is based on \"talkto,\" which provides weighted edges based on members a respondent's group of contacts. Weights are based on respondents' perception of how much each contact talks to each other.\n\n::: {.cell}\n\n```{.r .cell-code}\nremotes::install_github(\"kjhealy/gssr\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nSkipping install of 'gssr' from a github remote, the SHA1 (abe949b1) has not changed since last install.\n  Use `force = TRUE` to force installation\n```\n:::\n\n```{.r .cell-code}\ndrat::addRepo(\"kjhealy\")\n\ngss85 <- gss_get_yr(1985)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nFetching: https://gss.norc.org/documents/stata/1985_stata.zip\n```\n:::\n\n```{.r .cell-code}\nties <- gss85[,grepl(\"talkto\", colnames(gss85))]\n\nmat = matrix(nrow = 5, ncol = 5)\n\nmat[lower.tri(mat)] <- as.numeric(ties[3,])\n\nmat[upper.tri(mat)] = t(mat)[upper.tri(mat)]\n\nna_vals <- is.na(mat)\nnon_missing_rows <- rowSums(na_vals) < nrow(mat)\nmat <- mat[non_missing_rows,non_missing_rows]\n\ndiag(mat) <- 0\n\n\nig.net <- graph.adjacency(mat, mode = \"undirected\", weighted = T)\n```\n:::\n\n\n\n\nResults show that there is 1 component and the median weight is 2.This network contains 5 vertices and 10 edges. Ties are not bipartite or directed but they are weighted.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nigraph::components(ig.net)$no\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n\n```{.r .cell-code}\nsummary(E(ig.net)$weight)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n    1.0     2.0     2.0     1.8     2.0     2.0 \n```\n:::\n\n```{.r .cell-code}\nvcount(ig.net)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5\n```\n:::\n\n```{.r .cell-code}\necount(ig.net)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n```\n:::\n\n```{.r .cell-code}\nis_bipartite(ig.net)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n\n```{.r .cell-code}\nis_directed(ig.net)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n\n```{.r .cell-code}\nis_weighted(ig.net)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n:::\n\n\n\nIn the following tests I compare our networks network degree centralization, betweeness centrality, and transitivity with random networks to establish potential significance. These test let us determine if our sampled ego network is representative of the population in terms of important indicators of network characteristics. Doing so will help us establish the significance of any further tests such as on tie strength. Such tests will enable us to shed light on the attitudes of the network's nodes as interpersonal attitudes are strong influences of unit formation (Heider, F. (1946). Attitudes and cognitive organization.).  \n\nTo test our null hypothesis that our network's transitivity is higher or lower than expected compared to a random network we can use a CUG-test. First we test transitivity conditioned on network size. Results show that we should accept the alternative hypothesis that the observed transitivity is higher than expected compared to a random network.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrans.cug<-cug.test(mat,FUN=gtrans,mode=\"digraph\",cmode=\"size\")\ntrans.cug\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nUnivariate Conditional Uniform Graph Test\n\nConditioning Method: size \nGraph Type: digraph \nDiagonal Used: FALSE \nReplications: 1000 \n\nObserved Value: 1 \nPr(X>=Obs): 0.005 \nPr(X<=Obs): 1 \n```\n:::\n\n```{.r .cell-code}\nplot(trans.cug)\n```\n\n::: {.cell-output-display}\n![](wk9ChallengeKDocekal_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncug.t(trans.cug)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in cug.t(trans.cug): could not find function \"cug.t\"\n```\n:::\n:::\n\n\n\nIf we instead test transitivity conditioned on dyads we get similar results and reject the null hypothesis. \n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrans.cug<-cug.test(mat,FUN=gtrans,mode=\"digraph\",cmode=\"dyad\")\ntrans.cug\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nUnivariate Conditional Uniform Graph Test\n\nConditioning Method: dyad.census \nGraph Type: digraph \nDiagonal Used: FALSE \nReplications: 1000 \n\nObserved Value: 1 \nPr(X>=Obs): 1 \nPr(X<=Obs): 1 \n```\n:::\n\n```{.r .cell-code}\nplot(trans.cug)\n```\n\n::: {.cell-output-display}\n![](wk9ChallengeKDocekal_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncug.t(trans.cug)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in cug.t(trans.cug): could not find function \"cug.t\"\n```\n:::\n:::\n\n\n\nAlternatively, test transitivity can also be conditioned on edges which results in a similar outcome.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrans.cug<-cug.test(mat,FUN=gtrans,mode=\"digraph\",cmode=\"edges\", reps=100)\ntrans.cug\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nUnivariate Conditional Uniform Graph Test\n\nConditioning Method: edges \nGraph Type: digraph \nDiagonal Used: FALSE \nReplications: 100 \n\nObserved Value: 1 \nPr(X>=Obs): 1 \nPr(X<=Obs): 1 \n```\n:::\n\n```{.r .cell-code}\nplot(trans.cug)\n```\n\n::: {.cell-output-display}\n![](wk9ChallengeKDocekal_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncug.t(trans.cug)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in cug.t(trans.cug): could not find function \"cug.t\"\n```\n:::\n:::\n\n\n\n\nWe can also test network degree centralization to the null conditional based on size. In this case, results indicate that we cannot reject the null hypothesis for network degree centralization. The t-statistic results show a score of -.62. \n\n::: {.cell}\n\n```{.r .cell-code}\nc.degree.cug <-cug.test(mat,FUN=centralization,  FUN.arg=list(FUN=degree, cmode=\"indegree\"), mode=\"digraph\", cmode=\"size\") \n\nplot(c.degree.cug)\n```\n\n::: {.cell-output-display}\n![](wk9ChallengeKDocekal_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncug.t(c.degree.cug)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in cug.t(c.degree.cug): could not find function \"cug.t\"\n```\n:::\n:::\n\n\nHere we test betweeness centrality with 100 reps. Results show that we should accept the alternative hypothesis that the observed betweeness centrality is lower than expected compared to a random network.\n\n::: {.cell}\n\n```{.r .cell-code}\nb.degree.cug <-cug.test(mat,FUN=centralization,  FUN.arg=list(FUN=betweenness, cmode=\"directed\"), mode=\"digraph\", cmode=\"size\", reps=100) \n\nplot(b.degree.cug)\n```\n\n::: {.cell-output-display}\n![](wk9ChallengeKDocekal_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncug.t(b.degree.cug)\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in cug.t(b.degree.cug): could not find function \"cug.t\"\n```\n:::\n:::\n",
    "supporting": [
      "wk9ChallengeKDocekal_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}