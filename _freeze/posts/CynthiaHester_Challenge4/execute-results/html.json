{
  "hash": "dd9665dbf4fd5ff975594026bd83bcd4",
  "result": {
    "markdown": "---\ntitle: \"Challenge Four \"\nauthor: \"Cynthia Hester\"\ndescription: \"Centrality of a Network\"\ndate: \"03/20/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n# editor: visual\ncategories: \n  - Cynthia Hester\n  - Challenge Four\n---\n\n\n\n\n## Challenge Overview\n\nDescribe the many measures of centrality of at least one network of your choice.\n*******************************************************************************\nFor  Challenge Four I will use the **GOT Location** data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#import the data\ngot_locations <- \"C:/Users/Bud/Desktop/DACSS_697E_Social Network Analysis_SP2023/Social_Networks_SP_2023/posts/_data/got/got_locations.csv\"\n\n# Read the CSV file into a dataframe\ngot_locations_data <- read.csv(got_locations)\n```\n:::\n\n\n\n\nchecking out first few rows of data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(got_locations_data)\n```\n:::\n\n\n\n\n## Describe the Network Data\n\nIf you have not done it before, always start by evaluating the basic structure of the network (number of edges and vertices, dyad and triad census, etc.). Create a data frame `nodes` with the corresponding local attributes such as degree or local transitivity.\n\n************************************************************************\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Extracting matrix from data frame\nadj_matrix <- as.matrix(got_locations_data[, -c(1:3)])\n\n# Check if the matrix is square\nif (nrow(adj_matrix) == ncol(adj_matrix)) {\n  got_locations_data.ig <- graph_from_adjacency_matrix(adj_matrix, mode = 'directed', weighted = TRUE)\n} else {\n  print(\"Adjacency matrix is not square\")\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nif (ncol(got_locations_data) == 2) {\n  # The data is an edge list\n  got_locations_data.ig <- graph_from_edgelist(as.matrix(got_locations_data), directed = TRUE)\n} else {\n  print(\"The data format is not supported.\")\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(got_locations_data)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngot_locations_data\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                                          place          region    x    y\n1                     abandoned Wilding Village beyond the wall  926  136\n2                                    Acorn Hall      Riverlands  777 1227\n3                                       Andalos           Essos 1517 1033\n4                                       Astapor    Slaver's Bay 2670 1978\n5                      West of the Iron Islands    Iron Islands  161 1050\n6                                     Barrowton       the North  652  709\n7                                  Bitterbridge       the Reach  770 1524\n8                                Blackwater Bay      Crownlands 1021 1409\n9                                       Braavos           Essos 1471  943\n10                        camp around the Twins      Riverlands  775  997\n11                        camp near the Trident      Riverlands  900 1158\n12                                   Cape Wrath      Stormlands 1114 1704\n13                                 Castle Black        the Wall  955  169\n14                                 Castle Darry      Riverlands  939 1193\n15                               Castle Hayford      Crownlands  955 1370\n16                                 Castle Rosby      Crownlands 1017 1326\n17                     Cave of Beric Dondarrion      Riverlands  987 1264\n18           Cave of the Children of the Forest beyond the wall  858  128\n19                     cavern in haunted forest beyond the wall  822  108\n20                               Craster's Keep beyond the wall  907  131\n21                               Deepwood Motte       the North  643  381\n22                    deserted wildling village beyond the wall 1031  109\n23                                        Dorne           Dorne  859 1876\n24                                 Dothraki Sea           Essos 2774 1531\n25                                  Dragonstone      Crownlands 1186 1295\n26                          Dragonstone (Essos)           Essos 3021 1612\n27                                    Dreadfort       the North 1024  467\n28                                   Duskendale      Crownlands 1088 1284\n29                                    Eastwatch        the Wall 1038  178\n30          Encounter with the Brave Companions      Riverlands  904 1157\n31                      field outside of Pentos           Essos 1524 1378\n32            Fishing village east of God's eye      Riverlands  926 1252\n33                        Fist of the First Men beyond the wall  840   92\n34                            Gates of the Moon        the Vale 1022 1093\n35                                 Ghoyan Drohe           Essos 1678 1401\n36                                   Green Fork      Riverlands  938 1075\n37                              Greywater Watch       the North  787  788\n38                                Gulf of Grief    Slaver's Bay 2532 2169\n39                                   Hammerhorn    Iron Islands  442 1044\n40                                     Hardhome beyond the wall 1075   58\n41                                    Harrenhal      Riverlands  893 1222\n42                               Haunted Forest beyond the wall  916  116\n43                                   High Heart      Riverlands  789 1213\n44         High Road (in Mountains of the Moon)        the Vale  953 1153\n45                   High Road (near the Eyrie)        the Vale 1016 1101\n46          Holdfast on west shore of God's eye      Riverlands  873 1260\n47                      Inn of the Kneeling Man      Riverlands  791 1141\n48                   Inn south of the God's eye      Riverlands  900 1319\n49                               Isle of Cedars    Slaver's Bay 2662 1883\n50                           Khal Drogo's manse           Essos 1505 1385\n51                               King's Landing      Crownlands 1277 1642\n52  Kingsroad, a little north of King's Landing      Crownlands  984 1325\n53               kingsroad, north of Winterfell       the North  938  297\n54               kingsroad, south of Winterfell       the North  813  670\n55                            Lhazareen village           Essos 2868 1677\n56                                Little Finger        the Vale 1208  924\n57                                    Lordsport    Iron Islands  484 1101\n58                                          Lys           Essos 1393 1944\n59                                   Maidenpool      Riverlands 1032 1251\n60                                   Frostfangs beyond the wall  789  107\n61                                      Meereen    Slaver's Bay 2752 1752\n62                          Mill on Acorn Water       the North  793  563\n63                                  Moat Cailin       the North  820  754\n64                                  Mole's Town       the North  958  204\n65                        Mountains of the Moon        the Vale 1021 1117\n66                                Nagga's Hills    Iron Islands  423 1033\n67                                     New Ghis    Slaver's Bay 2735 2350\n68                                    Nightfort        the Wall 1033  171\n69                           North of Harrenhal      Riverlands  893 1195\n70                    North of Tumbledown tower       the North  746  352\n71                                       Ny Sar           Essos 1753 1456\n72                       off the coast of Dorne           Dorne 1318 1874\n73                     off the coast of Valyria    Slaver's Bay 2309 2299\n74                           Old Crossroads Inn      Riverlands  929 1162\n75                                      Old Wyk    Iron Islands  425 1035\n76                                    Oldstones      Riverlands  752 1060\n77                                      Oldtown       the Reach  485 1792\n78                         outside of Harrenhal      Riverlands  897 1209\n79                                    Pebbleton    Iron Islands  458 1052\n80                                    Pennytree      Riverlands  773 1162\n81                                       Pentos           Essos 1487 1396\n82                                         Pyke    Iron Islands  504 1093\n83                                        Qarth           Essos 3535 2151\n84                                  Queenscrown        the Wall  920  206\n85                                   Quiet Isle      Riverlands  993 1207\n86                               Raventree Hall      Riverlands  735 1139\n87                                     Red Fork      Riverlands  793 1145\n88                                    Red Waste           Essos 3004 1812\n89                                     Riverrun      Riverlands  732 1177\n90                                     Saltpans      Riverlands  969 1196\n91                                      Seagard      Riverlands  742 1024\n92                                     Selhorys           Essos 1826 1782\n93                               Shield Islands       the Reach  479 1598\n94                                       Skagos       the North 1183  195\n95                                Skirling pass beyond the wall  801   94\n96                                 Slaver's Bay    Slaver's Bay 2564 1879\n97                      south of Craster's Keep beyond the wall  911  147\n98                                   Stone Mill      Riverlands  770 1160\n99                                  Stoney Sept      Riverlands  794 1313\n100                                 Stony Shore       the North  404  593\n101                                 Storm's end      Stormlands 1114 1585\n102                                    Sunspear           Dorne 1208 1923\n103                                  Ten Towers    Iron Islands  569 1070\n104                                    The Crag     Westerlands  526 1194\n105                                   the Eyrie        the Vale 1068 1062\n106                              the Greenblood           Dorne 1082 1910\n107                               The Peach Inn      Riverlands  790 1314\n108                                 the Sorrows           Essos 1813 1642\n109                                   the Twins      Riverlands  764  980\n110            The Wall, spot of first invasion        the Wall  911  166\n111                                the Whispers      Crownlands 1197 1214\n112                 Town held by Bloody Mummers      Riverlands  936 1181\n113                               Trident ferry      Riverlands  917 1174\n114                            Tumbledown tower       the North  714  472\n115                                Vaes Dothrak           Essos 3182 1210\n116                                Vaes Tolorro           Essos 3096 1826\n117                   Village between the lakes       the North  914  327\n118                   Village of lord Goodbrook      Riverlands  823 1199\n119             Village that rests in the trees      Riverlands  845 1210\n120                                    Volantis           Essos 1909 1926\n121                                Volon Therys           Essos 1874 1917\n122                               Water gardens           Dorne 1199 1932\n123                  Weirwood north of the Wall beyond the wall  960  156\n124                             Whispering Wood      Riverlands  739 1190\n125                                White Harbor       the North  913  717\n126                                   Whitetree beyond the wall  930  156\n127                         Wilding ambush site beyond the wall  812   92\n128                                  Winterfell       the North  807  505\n129                                   Wolfswood       the North  678  453\n130                                      Yunkai    Slaver's Bay 2701 1812\n131                              Giant's stairs beyond the wall  807   77\n132                                   Milkwater beyond the wall  788   71\n133                                Shadow Tower        the Wall  861  171\n134                            Torrhen's Square       the North  672  583\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngot_locations_data[1 : 4, 1 : 4]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nedge_list <- combn(got_locations_data$place, 2)\n\n\ngot_graph <- graph_from_edgelist(t(edge_list), directed = FALSE)\n\n# Get the adjacency matrix of the graph\nadj_matrix <- as_adjacency_matrix(got_graph)\n\n# Print adjacency matrix\nprint(adj_matrix)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n  [[ suppressing 134 column names 'abandoned Wilding Village', 'Acorn Hall', 'Andalos' ... ]]\n```\n:::\n:::\n\n## Network Attributes\n\nedges\n\n\n::: {.cell}\n\n```{.r .cell-code}\necount(got_graph)\n```\n:::\n\n\n\nnodes\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#  nodes of the graph\n#print(V(got_graph)$name)\nvcount(got_graph)\n```\n:::\n\n\n\n\n\ndyad census\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate dyad \ndyad_census <- dyad_census(got_graph)\n\n# Print dyad \nprint(dyad_census)\n```\n:::\n\n\n\ntriad census\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#  triad census\ntriad_census <- triad_census(got_graph)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in triad_census(got_graph): At core/misc/motifs.c:1165 : Triad census\ncalled on an undirected graph.\n```\n:::\n\n```{.r .cell-code}\n# Print triad \nprint(triad_census)\n```\n:::\n\n\n\n\n****************************************************************************\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(got_graph)\nsummary(got_graph)\n```\n:::\n\n## transitivity\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntransitivity(got_graph, type = 'local')\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntransitivity(got_graph, type = \"global\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntransitivity(got_graph, type = \"localaverage\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Directed or undirected edges verification \n\nis_directed(got_graph)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Bipartite or single mode network verification got locations\n\nis_bipartite(got_graph)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Weighted or unweighted edges verification in got locations\n\nis_weighted(got_graph)\n```\n:::\n\n\n\n## Centrality\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(igraph)\n\n \n\n# betweenness centrality\nV(got_graph)$betweenness <- igraph::betweenness(got_graph)\n\n# closeness centrality\nV(got_graph)$closeness <- igraph::closeness(got_graph)\n\n# eigenvector centrality\nV(got_graph)$eigen_centrality <- igraph::eigen_centrality(got_graph)$vector\n\n# data frame for centrality measures\ncentrality_df <- data.frame(\n  Node = V(got_graph)$name,\n  Betweenness = V(got_graph)$betweenness,\n  Closeness = V(got_graph)$closeness,\n  Eigenvector = V(got_graph)$eigen_centrality\n)\n\n# Print the centrality table\nprint(centrality_df)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}