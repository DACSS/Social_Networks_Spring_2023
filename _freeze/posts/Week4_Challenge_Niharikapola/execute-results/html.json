{
  "hash": "1c9a87f53bbbddf3903a2677dddb3461",
  "result": {
    "markdown": "---\ntitle: \"Week 4 Challenge\"\nauthor: \"Niharika Pola\"\ndescription: \"Centrality of a Network\"\ndate: \"03/10/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\n# editor: visual\ncategories: \n  - challenge_4\n  - instructions\n  # - railroads\n  # - faostat\n  # - wildbirds\n---\n\n\n\n\n#### Challenge Overview\n\nDescribe the many measures of centrality of at least one network of your choice.\n\n##### Describe the Network Data\n\nIf you have not done it before, always start by evaluating the basic structure of the network (number of edges and vertices, dyad and triad census, etc.). Create a data frame \\`nodes\\` with the corresponding local attributes such as degree or local transitivity.\n\n##### Centrality\n\nCompute at least one measure of centrality for each node, adding them as attributes to \\`nodes\\` in the form of extra columns: eigencentrality, betweenness, closeness, etc. Compute the distribution of at least one of those measures. What do we learn from comparing these measures of centrality with an equivalent random network (i.e. with the same number of edges and vertices)?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\ngot_distances <- read_csv(\"_data/got/got_distances.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 200 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): Region From, From, To, Mode, Notes\ndbl (1): Miles\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nhead(got_distances)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  `Region From` From          To               Miles Mode  Notes   \n  <chr>         <chr>         <chr>            <dbl> <chr> <chr>   \n1 Westerlands   Casterly Rock the Golden Tooth   240 land  <NA>    \n2 Westerlands   Casterly Rock Lannisport          40 land  <NA>    \n3 Westerlands   Casterly Rock Kayce              100 land  <NA>    \n4 Westerlands   Casterly Rock Kayce               12 water <NA>    \n5 Westerlands   Casterly Rock Deep Den           240 land  Goldroad\n6 Westerlands   Deep Den      King’s Landing     590 land  Goldroad\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the required package\nlibrary(igraph)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'igraph'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following objects are masked from 'package:stats':\n\n    decompose, spectrum\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThe following object is masked from 'package:base':\n\n    union\n```\n:::\n\n```{.r .cell-code}\n# Create the network from the dataset\nnet <- graph.data.frame(got_distances, directed = FALSE)\n# Basic structure of the network\nedges <- ecount(net)\nvertices <- vcount(net)\n# Dyad and triad census\ndyads <- dyad_census(net)\ntriads <- triad_census(net)\n# Create the nodes data frame with local attributes\nnodes <- data.frame(\n  vertex = V(net)$name,  # Assuming the vertices have a 'name' attribute\n  degree = degree(net),\n  transitivity = transitivity(net, type = \"local\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Print the basic network structure\ncat(\"Number of edges:\", edges, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNumber of edges: 200 \n```\n:::\n\n```{.r .cell-code}\ncat(\"Number of vertices:\", vertices, \"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nNumber of vertices: 103 \n```\n:::\n\n```{.r .cell-code}\nprint(dyads)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$mut\n[1] 93\n\n$asym\n[1] 0\n\n$null\n[1] 5160\n```\n:::\n\n```{.r .cell-code}\nprint(triads)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 172432      0   3917      0      0      0      0      0      0      0\n[11]    502      0      0      0      0      0\n```\n:::\n\n```{.r .cell-code}\n# Print the nodes data frame\nprint(nodes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                                                       vertex degree\nWesterlands                                       Westerlands     14\nReach                                                   Reach     19\nRiverlands                                         Riverlands     18\nVale                                                     Vale     19\nCrownlands                                         Crownlands     13\nStormlands                                         Stormlands     13\nDorne                                                   Dorne     16\nNorth                                                   North     26\nIron Islands                                     Iron Islands     10\nEssos                                                   Essos     57\nCasterly Rock                                   Casterly Rock      5\nDeep Den                                             Deep Den      1\nKayce                                                   Kayce      1\nFaircastle                                         Faircastle      1\nthe Crag                                             the Crag      1\nAshemark                                             Ashemark      2\nLannisport                                         Lannisport      2\nCrakehall                                           Crakehall      1\nOld Oak                                               Old Oak      1\nHighgarden                                         Highgarden      5\nOldtown                                               Oldtown      2\nBlackcrown                                         Blackcrown      2\nThree Towers                                     Three Towers      1\nMouth of the Mander River           Mouth of the Mander River      1\nGolden Grove                                     Golden Grove      1\nCider Hall                                         Cider Hall      2\nLongtable                                           Longtable      2\nHarroway                                             Harroway      7\nSeagard                                               Seagard      3\nRiverrun                                             Riverrun      3\nHarrenhal                                           Harrenhal      2\nSaltpans                                             Saltpans      1\nMaidenpool                                         Maidenpool      2\nBorder                                                 Border      1\nthe Bloody Gate                               the Bloody Gate      1\nWickenden                                           Wickenden      2\nGulltown                                             Gulltown      1\nRunestone                                           Runestone      2\nOld Anchor                                         Old Anchor      2\nLongbow Hall                                     Longbow Hall      2\nSnakewoods                                         Snakewoods      3\nHeart’s Home                                     Heart’s Home      1\nthe Sisters                                       the Sisters      2\nPebble Island                                   Pebble Island      1\nthe Paps                                             the Paps      1\nKing’s Landing                                 King’s Landing      7\nDuskendale                                         Duskendale      2\nRook’s Rest                                       Rook’s Rest      1\nSharp Point                                       Sharp Point      1\nDragonstone                                       Dragonstone      2\nWendwater                                           Wendwater      1\nBronze Gate                                       Bronze Gate      1\nStorm’s End                                       Storm’s End      4\nSummerhall                                         Summerhall      1\nBlackhaven                                         Blackhaven      1\nRain House                                         Rain House      1\nMistwood                                             Mistwood      2\nWeeping Tower                                   Weeping Tower      1\nStonehelm                                           Stonehelm      1\nWyl                                                       Wyl      1\nYronwood                                             Yronwood      1\nthe Tor                                               the Tor      1\nGodsgrace                                           Godsgrace      3\nSaltshore                                           Saltshore      1\nVaith                                                   Vaith      1\nHellholt                                             Hellholt      3\nSkyreach                                             Skyreach      1\nMoat Cailin                                       Moat Cailin      2\nCerwyn                                                 Cerwyn      1\nGreywater Watch                               Greywater Watch      1\nFlint’s Finger                                 Flint’s Finger      1\nWhite Harbor                                     White Harbor      2\nRamsgate                                             Ramsgate      2\nWidow’s Watch                                   Widow’s Watch      1\nKarhold                                               Karhold      2\nDreadfort                                           Dreadfort      2\nWinterfell                                         Winterfell      5\nDeepwood Motte                                 Deepwood Motte      2\nBarrowton                                           Barrowton      5\nthe Shield Islands                         the Shield Islands      1\nthe Arbor                                           the Arbor      1\nthe Southern Dornish Coastline the Southern Dornish Coastline      1\nLemonwood                                           Lemonwood      2\nSunspear                                             Sunspear      1\nTyrosh                                                 Tyrosh      7\nPentos                                                 Pentos      2\nBraavos                                               Braavos      6\nLorath                                                 Lorath      1\nLys                                                       Lys      2\nVolantis                                             Volantis      5\nNew Ghis                                             New Ghis      9\nAstapor                                               Astapor      2\nYunkai                                                 Yunkai      2\nDagger Lake                                       Dagger Lake      2\nthe Stepstones                                 the Stepstones      1\nMyr                                                       Myr      3\nSelhorys                                             Selhorys      2\nQohor                                                   Qohor      1\nNorvos                                                 Norvos      2\nVaes Dothrak                                     Vaes Dothrak      4\nMantarys                                             Mantarys      2\nBhorash                                               Bhorash      1\nMeereen                                               Meereen      3\n                               transitivity\nWesterlands                               0\nReach                                     0\nRiverlands                                0\nVale                                      0\nCrownlands                                0\nStormlands                                0\nDorne                                     0\nNorth                                     0\nIron Islands                            NaN\nEssos                                     0\nCasterly Rock                           NaN\nDeep Den                                NaN\nKayce                                   NaN\nFaircastle                              NaN\nthe Crag                                NaN\nAshemark                                NaN\nLannisport                              NaN\nCrakehall                               NaN\nOld Oak                                 NaN\nHighgarden                              NaN\nOldtown                                 NaN\nBlackcrown                              NaN\nThree Towers                            NaN\nMouth of the Mander River               NaN\nGolden Grove                            NaN\nCider Hall                              NaN\nLongtable                               NaN\nHarroway                                NaN\nSeagard                                 NaN\nRiverrun                                NaN\nHarrenhal                               NaN\nSaltpans                                NaN\nMaidenpool                              NaN\nBorder                                  NaN\nthe Bloody Gate                         NaN\nWickenden                               NaN\nGulltown                                NaN\nRunestone                               NaN\nOld Anchor                              NaN\nLongbow Hall                            NaN\nSnakewoods                              NaN\nHeart’s Home                            NaN\nthe Sisters                             NaN\nPebble Island                           NaN\nthe Paps                                NaN\nKing’s Landing                          NaN\nDuskendale                              NaN\nRook’s Rest                             NaN\nSharp Point                             NaN\nDragonstone                             NaN\nWendwater                               NaN\nBronze Gate                             NaN\nStorm’s End                             NaN\nSummerhall                              NaN\nBlackhaven                              NaN\nRain House                              NaN\nMistwood                                NaN\nWeeping Tower                           NaN\nStonehelm                               NaN\nWyl                                     NaN\nYronwood                                NaN\nthe Tor                                 NaN\nGodsgrace                               NaN\nSaltshore                               NaN\nVaith                                   NaN\nHellholt                                NaN\nSkyreach                                NaN\nMoat Cailin                             NaN\nCerwyn                                  NaN\nGreywater Watch                         NaN\nFlint’s Finger                          NaN\nWhite Harbor                            NaN\nRamsgate                                NaN\nWidow’s Watch                           NaN\nKarhold                                 NaN\nDreadfort                               NaN\nWinterfell                              NaN\nDeepwood Motte                          NaN\nBarrowton                               NaN\nthe Shield Islands                      NaN\nthe Arbor                               NaN\nthe Southern Dornish Coastline          NaN\nLemonwood                               NaN\nSunspear                                NaN\nTyrosh                                  NaN\nPentos                                  NaN\nBraavos                                 NaN\nLorath                                  NaN\nLys                                     NaN\nVolantis                                NaN\nNew Ghis                                NaN\nAstapor                                 NaN\nYunkai                                  NaN\nDagger Lake                             NaN\nthe Stepstones                          NaN\nMyr                                     NaN\nSelhorys                                NaN\nQohor                                   NaN\nNorvos                                  NaN\nVaes Dothrak                            NaN\nMantarys                                NaN\nBhorash                                 NaN\nMeereen                                 NaN\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nin_net <- centr_degree(net, loops = FALSE, mode = \"in\")\nin_net\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$res\n  [1] 14 19 18 19 13 13 16 26  0 57  5  1  1  1  1  2  2  1  1  5  2  2  1  1  1\n [26]  2  2  7  3  3  2  1  2  1  1  2  1  2  2  2  3  1  2  1  1  7  2  1  1  2\n [51]  1  1  4  1  1  1  2  1  1  1  1  1  3  1  1  3  1  2  1  1  1  2  2  1  2\n [76]  2  5  2  5  1  1  1  2  1  7  2  6  1  2  5  9  2  2  2  1  3  2  1  2  4\n[101]  2  1  3\n\n$centralization\n[1] 0.5320326\n\n$theoretical_max\n[1] 10302\n```\n:::\n\n```{.r .cell-code}\nout_net <- centr_degree(net, loops = FALSE, mode = \"out\")\nout_net\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$res\n  [1] 14 19 18 19 13 13 16 26  0 57  5  1  1  1  1  2  2  1  1  5  2  2  1  1  1\n [26]  2  2  7  3  3  2  1  2  1  1  2  1  2  2  2  3  1  2  1  1  7  2  1  1  2\n [51]  1  1  4  1  1  1  2  1  1  1  1  1  3  1  1  3  1  2  1  1  1  2  2  1  2\n [76]  2  5  2  5  1  1  1  2  1  7  2  6  1  2  5  9  2  2  2  1  3  2  1  2  4\n[101]  2  1  3\n\n$centralization\n[1] 0.5320326\n\n$theoretical_max\n[1] 10302\n```\n:::\n\n```{.r .cell-code}\nnet_total <- centr_degree(net, loops = FALSE, mode = \"total\")\nnet_total\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$res\n  [1] 14 19 18 19 13 13 16 26  0 57  5  1  1  1  1  2  2  1  1  5  2  2  1  1  1\n [26]  2  2  7  3  3  2  1  2  1  1  2  1  2  2  2  3  1  2  1  1  7  2  1  1  2\n [51]  1  1  4  1  1  1  2  1  1  1  1  1  3  1  1  3  1  2  1  1  1  2  2  1  2\n [76]  2  5  2  5  1  1  1  2  1  7  2  6  1  2  5  9  2  2  2  1  3  2  1  2  4\n[101]  2  1  3\n\n$centralization\n[1] 0.5320326\n\n$theoretical_max\n[1] 10302\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\neigen <- eigen_centrality(net)$vector\nbetweeness <- igraph::betweenness(net, directed = F)\nclose <- igraph::closeness(net, mode = \"out\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Compute the distribution of one centrality measure (e.g., eigencentrality)\neigen_dist <- table(nodes$eigen)\n# Print the distribution of eigencentrality\nprint(eigen_dist)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n< table of extent 0 >\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}